# ì†Œë‹´(SODAM) í”„ë¡œì íŠ¸ ì¢…í•© ë¶„ì„ ë³´ê³ ì„œ

## ğŸ“‹ ë¬¸ì„œ ê°œìš”

- **ì‘ì„±ì¼**: 2024-12-27
- **ì‘ì„±ì**: ê°œë°œíŒ€
- **ë¬¸ì„œ ìœ í˜•**: ì½”ë“œë² ì´ìŠ¤ ì¢…í•© ë¶„ì„ ë³´ê³ ì„œ
- **í”„ë¡œì íŠ¸ëª…**: ì†Œë‹´(SODAM) - ì•„ë¥´ë°”ì´íŠ¸ ê·¼íƒœ ë° ê¸‰ì—¬ ê´€ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜
- **ë¶„ì„ ë²„ì „**: v2.0 (ì„œì‹ ì •ë¦¬ ë° ë‚´ìš© ë³´ê°•)

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ì„œë¹„ìŠ¤ ì†Œê°œ

ì†Œë‹´(SODAM)ì€ ì•„ë¥´ë°”ì´íŠ¸ ê·¼íƒœ ê¸°ë¡, ê¸‰ì—¬ ì‚°ì¶œ, ì„¸ë¬´ ì‹ ê³  ì—°ê³„ ë“±ì˜ ê¸°ëŠ¥ì„ í†µí•´ ê·¼ë¡œìì™€ ì‚¬ì—…ìì—ê²Œ íš¨ìœ¨ì ì´ê³  ê°„í¸í•œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” í¬ë¡œìŠ¤ í”Œë«í¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

### 1.2 ê¸°ìˆ  ìŠ¤íƒ í˜„í™©

| ë¶„ì•¼         | ê¸°ìˆ                | ë²„ì „     | ë¹„ê³         |
|------------|------------------|--------|-----------|
| **ë°±ì—”ë“œ**    | Java Spring Boot | 3.4.x  | ë©”ì¸ ì„œë²„     |
| **í”„ë¡ íŠ¸ì—”ë“œ**  | React Native     | 0.80.0 | í¬ë¡œìŠ¤ í”Œë«í¼   |
| **ì›¹ ì§€ì›**   | React Native Web | -      | ì›¹ ë¸Œë¼ìš°ì € í˜¸í™˜ |
| **ì–¸ì–´**     | TypeScript       | -      | í”„ë¡ íŠ¸ì—”ë“œ     |
| **ì–¸ì–´**     | Java             | 17 LTS | ë°±ì—”ë“œ       |
| **ë°ì´í„°ë² ì´ìŠ¤** | MySQL            | 8.x    | ë©”ì¸ DB     |
| **ORM**    | MyBatis          | -      | ë°ì´í„° ë§¤í•‘    |
| **ìºì‹œ**     | Redis            | 7.x    | ì„¸ì…˜/ìºì‹œ     |
| **ì„œë²„**     | AWS              | -      | í´ë¼ìš°ë“œ ì¸í”„ë¼  |

### 1.3 ì£¼ìš” ê¸°ëŠ¥ í˜„í™©

- âœ… **ì¸ì¦ ì‹œìŠ¤í…œ**: ì¹´ì¹´ì˜¤ OAuth, JWT ê¸°ë°˜ ì¸ì¦
- âœ… **ê·¼íƒœ ê´€ë¦¬**: NFC íƒœê·¸ ì¸ì‹, ìœ„ì¹˜ ê¸°ë°˜ ì¶œí‡´ê·¼
- âœ… **ë§¤ì¥ ê´€ë¦¬**: ë§¤ì¥ ì •ë³´, ì§ì› ê´€ë¦¬
- âœ… **ì„ê¸ˆ ê´€ë¦¬**: ì‹œê¸‰ ì„¤ì •, ê¸‰ì—¬ ê³„ì‚°
- âœ… **ì •ë³´ ì„œë¹„ìŠ¤**: ì†Œìƒê³µì¸ ê¿€íŒ, êµ­ê°€ì •ì±… ì •ë³´
- âœ… **Q&A ì‹œìŠ¤í…œ**: ì„¸ë¬´/ë…¸ë¬´ ìƒë‹´

## ğŸ” ë¶„ì„ ë²”ìœ„ ë° ë°©ë²•ë¡ 

### 2.1 ë¶„ì„ ëŒ€ìƒ

```
ğŸ“ ì†ŒìŠ¤ì½”ë“œ ë¶„ì„ ë²”ìœ„
â”œâ”€â”€ ğŸ”§ í•µì‹¬ ì„¤ì • íŒŒì¼ (application.yml, Config í´ë˜ìŠ¤)
â”œâ”€â”€ ğŸ” Security ë° JWT ê´€ë ¨ ì½”ë“œ
â”œâ”€â”€ ğŸ’¾ Redis ë° Cache ì„¤ì •
â”œâ”€â”€ ğŸ¯ AOP êµ¬í˜„ì²´
â”œâ”€â”€ ğŸ”— ì»´í¬ë„ŒíŠ¸ ë° Bean ì„¤ì •
â”œâ”€â”€ ğŸŒ Controller ë° API ì—”ë“œí¬ì¸íŠ¸
â”œâ”€â”€ âš ï¸ ì˜ˆì™¸ ì²˜ë¦¬ ë° ì—ëŸ¬ í•¸ë“¤ë§
â”œâ”€â”€ ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ êµ¬ì¡°
â”œâ”€â”€ ğŸ“± React Native ê´€ë ¨ ì„¤ì • (ì‹ ê·œ ì¶”ê°€)
â”œâ”€â”€ ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™” (ì‹ ê·œ ì¶”ê°€)
â””â”€â”€ ğŸ“Š ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (ì‹ ê·œ ì¶”ê°€)
```

### 2.2 ë¶„ì„ ë°©ë²•ë¡ 

- **ì •ì  ì½”ë“œ ë¶„ì„**: ì½”ë“œë² ì´ìŠ¤ 2íšŒ ì •ë…
- **ë³´ì•ˆ ì·¨ì•½ì  ë¶„ì„**: OWASP ê¸°ì¤€ ë³´ì•ˆ ê²€í† 
- **ì„±ëŠ¥ ë¶„ì„**: ë³‘ëª© ì§€ì  ë° ìµœì í™” í¬ì¸íŠ¸ ì‹ë³„
- **ì•„í‚¤í…ì²˜ ë¶„ì„**: ì„¤ê³„ íŒ¨í„´ ë° êµ¬ì¡°ì  ë¬¸ì œì  ê²€í† 

---

## ğŸš¨ ì¤‘ìš” ë³´ì•ˆ ì´ìŠˆ

### ğŸ”´ 1. JWT Secret Key ë³´ì•ˆ ë¬¸ì œ âš ï¸ **CRITICAL**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `application.yml`, `JwtProperties.java`

**ğŸ” ë¬¸ì œì **:

- JWT secret keyê°€ ì†ŒìŠ¤ì½”ë“œì— í•˜ë“œì½”ë”©ë˜ì–´ ìˆìŒ
- `application.yml`ê³¼ `JwtProperties.java`ì— ì¤‘ë³µ ì •ì˜
- ìš´ì˜í™˜ê²½ì—ì„œ í† í° ìœ„ì¡° ê°€ëŠ¥ì„± ì¡´ì¬
- ë³´ì•ˆ í‚¤ ë…¸ì¶œë¡œ ì¸í•œ ì „ì²´ ì¸ì¦ ì‹œìŠ¤í…œ ë¬´ë ¥í™” ìœ„í—˜

**âœ… ìˆ˜ì • ê³„íš**:

```yaml
# application.yml - í™˜ê²½ë³€ìˆ˜ í™œìš©
jwt:
  secret: ${JWT_SECRET:#{null}}
  expiration: ${JWT_EXPIRATION:3600000}
  refresh-expiration: ${JWT_REFRESH_EXPIRATION:604800000}
```

```java
// JwtProperties.java - ìƒìˆ˜ë§Œ ìœ ì§€
public interface JwtProperties {
    String TOKEN_PREFIX = "Bearer ";
    String HEADER_STRING = "Authorization";
    String REFRESH_HEADER = "Refresh-Token";
    // SECRET ìƒìˆ˜ ì™„ì „ ì œê±°
}
```

**ğŸ›¡ï¸ ì¶”ê°€ ë³´ì•ˆ ê°•í™” ë°©ì•ˆ**:

```bash
# í™˜ê²½ë³€ìˆ˜ ì„¤ì • ì˜ˆì‹œ
export JWT_SECRET="your-256-bit-secret-key-here"
export JWT_EXPIRATION=3600000
export JWT_REFRESH_EXPIRATION=604800000
```

### ğŸ”´ 2. ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ ë…¸ì¶œ âš ï¸ **CRITICAL**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `application.yml`

**ğŸ” ë¬¸ì œì **:

- MySQL ë¹„ë°€ë²ˆí˜¸ê°€ í‰ë¬¸ìœ¼ë¡œ ì„¤ì • íŒŒì¼ì— ì €ì¥
- ì†ŒìŠ¤ì½”ë“œ ì €ì¥ì†Œì— ë¯¼ê°í•œ ì •ë³´ ë…¸ì¶œ
- ê°œë°œ/ìš´ì˜ í™˜ê²½ êµ¬ë¶„ ì—†ì´ ë™ì¼í•œ ì„¤ì • ì‚¬ìš©

**âœ… ìˆ˜ì • ê³„íš**:

```yaml
# application.yml - í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬
spring:
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}
  datasource:
    url: ${DB_URL:jdbc:mysql://localhost:3306/sodam}
    username: ${DB_USERNAME:sodam}
    password: ${DB_PASSWORD:#{null}}
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      maximum-pool-size: ${DB_POOL_SIZE:20}
      minimum-idle: ${DB_MIN_IDLE:5}
      connection-timeout: ${DB_CONNECTION_TIMEOUT:30000}
```

**ğŸ”’ í™˜ê²½ë³„ ë³´ì•ˆ ì„¤ì •**:

```yaml
# application-prod.yml (ìš´ì˜í™˜ê²½)
spring:
  datasource:
    password: ${DB_PASSWORD}
    hikari:
      maximum-pool-size: 50
      minimum-idle: 10

# application-dev.yml (ê°œë°œí™˜ê²½)  
spring:
  datasource:
    password: ${DB_PASSWORD:devpassword}
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
```

### ğŸŸ¡ 3. Redis ë³´ì•ˆ ì„¤ì • ë¯¸í¡ âš ï¸ **HIGH**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `RedisConfig.java`, `application.yml`

**ğŸ” ë¬¸ì œì **:

- Redis ë¹„ë°€ë²ˆí˜¸ ì„¤ì • ëˆ„ë½
- ìºì‹œ ë°ì´í„° ì•”í˜¸í™” ë¯¸ì ìš©
- Redis ì—°ê²° í’€ ì„¤ì • ìµœì í™” í•„ìš”

**âœ… ìˆ˜ì • ê³„íš**:

```yaml
# application.yml - Redis ë³´ì•ˆ ê°•í™”
spring:
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:#{null}}
      timeout: 2000ms
      ssl: ${REDIS_SSL:false}
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0
          max-wait: -1ms
```

```java
// RedisConfig.java - ë³´ì•ˆ ì„¤ì • ì¶”ê°€
@Configuration
public class RedisConfig {

    @Value("${spring.data.redis.password:#{null}}")
    private String password;

    @Bean
    public LettuceConnectionFactory redisConnectionFactory() {
        RedisStandaloneConfiguration config = new RedisStandaloneConfiguration();
        config.setHostName(host);
        config.setPort(port);
        if (password != null && !password.isEmpty()) {
            config.setPassword(password);
        }

        LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()
            .commandTimeout(Duration.ofSeconds(2))
            .shutdownTimeout(Duration.ZERO)
            .build();

        return new LettuceConnectionFactory(config, clientConfig);
    }
}
```

---

## ğŸ”§ ì‹œìŠ¤í…œ ì„¤ì • ê°œì„ ì‚¬í•­

### ğŸŸ¡ 4. DDL ì„¤ì • ìœ„í—˜ì„± âš ï¸ **HIGH**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `application.yml`

**ğŸ” ë¬¸ì œì **:

- `ddl-auto: create` ì„¤ì •ìœ¼ë¡œ ìš´ì˜ ë°ì´í„° ì†ì‹¤ ìœ„í—˜
- í™˜ê²½ë³„ DDL ì „ëµ ë¯¸ë¶„ë¦¬
- ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë²„ì „ ê´€ë¦¬ ë¶€ì¬

**âœ… ìˆ˜ì • ê³„íš**:

```yaml
# application.yml - í™˜ê²½ë³„ DDL ì „ëµ
spring:
  jpa:
    hibernate:
      ddl-auto: ${DDL_AUTO:validate}
    show-sql: ${SHOW_SQL:false}
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQL8Dialect
        jdbc:
          batch_size: 20
        order_inserts: true
        order_updates: true
```

**ğŸ“‹ í™˜ê²½ë³„ DDL ì „ëµ**:
| í™˜ê²½ | DDL ì„¤ì • | ìš©ë„ | ìœ„í—˜ë„ |
|------|----------|------|--------|
| **local** | `create-drop` | ë¡œì»¬ ê°œë°œ | ë‚®ìŒ |
| **dev** | `update` | ê°œë°œ ì„œë²„ | ì¤‘ê°„ |
| **staging** | `validate` | ìŠ¤í…Œì´ì§• | ë‚®ìŒ |
| **prod** | `validate` | ìš´ì˜ ì„œë²„ | ì—†ìŒ |

### ğŸŸ¡ 5. ìºì‹œ ì„¤ì • ìµœì í™” âš ï¸ **MEDIUM**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `RedisConfig.java`, `CustomCacheErrorHandler.java`

**ğŸ” ë¬¸ì œì **:

- `CustomCacheErrorHandler` ì •ì˜ë˜ì—ˆìœ¼ë‚˜ ë¯¸ë“±ë¡
- ìºì‹œ TTL ì„¤ì • í•˜ë“œì½”ë”©
- ìºì‹œ í‚¤ ë„¤ì´ë° ì „ëµ ë¶€ì¬

**âœ… ìˆ˜ì • ê³„íš**:

```java
// RedisConfig.java - ìºì‹œ ë§¤ë‹ˆì € ê°œì„ 
@Bean
public CacheManager cacheManager(
    @Qualifier("cacheConnectionFactory") RedisConnectionFactory connectionFactory,
    CustomCacheErrorHandler errorHandler) {

    RedisCacheConfiguration defaultConfig = RedisCacheConfiguration.defaultCacheConfig()
        .entryTtl(Duration.ofMinutes(30))
        .serializeKeysWith(RedisSerializationContext.SerializationPair
            .fromSerializer(new StringRedisSerializer()))
        .serializeValuesWith(RedisSerializationContext.SerializationPair
            .fromSerializer(new GenericJackson2JsonRedisSerializer()))
        .disableCachingNullValues();

    Map<String, RedisCacheConfiguration> cacheConfigurations = new HashMap<>();
    cacheConfigurations.put("users", defaultConfig.entryTtl(Duration.ofHours(1)));
    cacheConfigurations.put("stores", defaultConfig.entryTtl(Duration.ofMinutes(30)));
    cacheConfigurations.put("policies", defaultConfig.entryTtl(Duration.ofHours(6)));

    return RedisCacheManager.builder(connectionFactory)
        .cacheDefaults(defaultConfig)
        .withInitialCacheConfigurations(cacheConfigurations)
        .transactionAware()
        .build();
}

@Bean
public CacheErrorHandler cacheErrorHandler() {
    return new CustomCacheErrorHandler();
}
```

---

## ğŸ” ì¸ì¦/ë³´ì•ˆ ì‹œìŠ¤í…œ ê°œì„ 

### ğŸ”´ 6. JWT ì¸ì¦ í•„í„° ë¯¸ì™„ì„± âš ï¸ **CRITICAL**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `JwtAuthenticationFilter.java`

**ğŸ” ë¬¸ì œì **:

- í† í° ê²€ì¦ í›„ SecurityContext ì„¤ì • ë¡œì§ ì£¼ì„ ì²˜ë¦¬
- ì‹¤ì œ ì¸ì¦ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‘í•˜ì§€ ì•ŠìŒ
- í† í° ê°±ì‹  ë¡œì§ ë¶€ì¬

**âœ… ìˆ˜ì • ê³„íš**:

```java
// JwtAuthenticationFilter.java - ì™„ì „í•œ ì¸ì¦ ë¡œì§
@Override
protected void doFilterInternal(HttpServletRequest request, 
                               HttpServletResponse response, 
                               FilterChain filterChain) throws ServletException, IOException {
    try {
        String token = extractToken(request);

        if (token != null && jwtTokenProvider.validateToken(token)) {
            String userId = jwtTokenProvider.getUserIdFromToken(token);

            if (userId != null && SecurityContextHolder.getContext().getAuthentication() == null) {
                Authentication authentication = jwtTokenProvider.getAuthentication(token);
                SecurityContextHolder.getContext().setAuthentication(authentication);

                // í† í° ê°±ì‹  ì²´í¬
                if (jwtTokenProvider.shouldRefreshToken(token)) {
                    String newToken = jwtTokenProvider.refreshToken(token);
                    response.setHeader("New-Token", newToken);
                }

                log.debug("JWT ì¸ì¦ ì™„ë£Œ - ì‚¬ìš©ì ID: {}", userId);
            }
        }
    } catch (JwtException e) {
        log.warn("JWT í† í° ê²€ì¦ ì‹¤íŒ¨: {}", e.getMessage());
        SecurityContextHolder.clearContext();
    }

    filterChain.doFilter(request, response);
}

private String extractToken(HttpServletRequest request) {
    String bearerToken = request.getHeader("Authorization");
    if (bearerToken != null && bearerToken.startsWith("Bearer ")) {
        return bearerToken.substring(7);
    }
    return null;
}
```

### ğŸŸ¡ 7. JWT AuthenticationEntryPoint ê°œì„  âš ï¸ **MEDIUM**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `JwtAuthenticationEntryPoint.java`, `SecurityConfig.java`

**ğŸ” ë¬¸ì œì **:

- JSON í˜•íƒœê°€ ì•„ë‹Œ ì‘ë‹µ
- SecurityConfigì—ì„œ ë¯¸ë“±ë¡
- ì—ëŸ¬ ì‘ë‹µ í‘œì¤€í™” ë¶€ì¬

**âœ… ìˆ˜ì • ê³„íš**:

```java
// JwtAuthenticationEntryPoint.java - í‘œì¤€í™”ëœ ì—ëŸ¬ ì‘ë‹µ
@Component
public class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {

    private final ObjectMapper objectMapper = new ObjectMapper();

    @Override
    public void commence(HttpServletRequest request, 
                        HttpServletResponse response, 
                        AuthenticationException authException) throws IOException {

        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);
        response.setContentType("application/json;charset=UTF-8");

        ErrorResponse errorResponse = ErrorResponse.builder()
            .code("AUTH_001")
            .message("ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.")
            .path(request.getRequestURI())
            .timestamp(LocalDateTime.now())
            .build();

        response.getWriter().write(objectMapper.writeValueAsString(errorResponse));
    }
}

// SecurityConfig.java - EntryPoint ë“±ë¡
@Bean
public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
    return http
        .exceptionHandling(exceptions -> exceptions
            .authenticationEntryPoint(jwtAuthenticationEntryPoint)
            .accessDeniedHandler(jwtAccessDeniedHandler))
        .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)
        .build();
}
```

### ğŸŸ¢ 8. Security ì„¤ì • ì •ë¦¬ âš ï¸ **LOW**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `SecurityConfig.java`

**ğŸ” ë¬¸ì œì **:

- `passwordEncoder()`ì™€ `bCryptPasswordEncoder()` ì¤‘ë³µ ì •ì˜
- ë¶ˆí•„ìš”í•œ Bean ì¤‘ë³µ

**âœ… ìˆ˜ì • ê³„íš**:

```java
// SecurityConfig.java - Bean ì •ë¦¬
@Configuration
@EnableWebSecurity
@EnableMethodSecurity
public class SecurityConfig {

    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder(12); // ê°•ë„ ì„¤ì •
    }

    // bCryptPasswordEncoder() ë©”ì„œë“œ ì œê±°

    @Bean
    public AuthenticationManager authenticationManager(
        AuthenticationConfiguration config) throws Exception {
        return config.getAuthenticationManager();
    }
}
```

---

## ğŸ¯ AOP ë° ì„±ëŠ¥ ìµœì í™”

### ğŸŸ¡ 9. AOP ì„±ëŠ¥ ìµœì í™” âš ï¸ **MEDIUM**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `ServiceLoggingAspect.java`, `PerformanceMonitoringAspect.java`

**ğŸ” ë¬¸ì œì **:

- ë‘ AOPê°€ ë™ì‹œ ì ìš© ì‹œ ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œ
- ì‹¤í–‰ ì‹œê°„ ì¸¡ì • ê¸°ëŠ¥ ì¤‘ë³µ
- ë¯¼ê°í•œ ì •ë³´ ë¡œê¹… ìœ„í—˜

**âœ… ìˆ˜ì • ê³„íš**:

```java
// UnifiedLoggingAspect.java - í†µí•© AOP
@Aspect
@Component
@Slf4j
public class UnifiedLoggingAspect {

    private static final Set<String> SENSITIVE_PARAMS = Set.of(
        "password", "token", "secret", "key", "credential"
    );

    @Around("execution(* com.rich.sodam.service..*.*(..))")
    public Object logServiceMethodExecution(ProceedingJoinPoint joinPoint) throws Throwable {
        String methodName = joinPoint.getSignature().getName();
        String className = joinPoint.getTarget().getClass().getSimpleName();

        // ì„±ëŠ¥ ì¸¡ì • ì‹œì‘
        long startTime = System.currentTimeMillis();

        try {
            // íŒŒë¼ë¯¸í„° ë¡œê¹… (ë¯¼ê°í•œ ì •ë³´ ë§ˆìŠ¤í‚¹)
            Object[] args = joinPoint.getArgs();
            String maskedArgs = maskSensitiveData(args);

            if (log.isDebugEnabled()) {
                log.debug("ë©”ì„œë“œ ì‹œì‘: {}.{} - íŒŒë¼ë¯¸í„°: {}", 
                    className, methodName, maskedArgs);
            }

            Object result = joinPoint.proceed();

            long executionTime = System.currentTimeMillis() - startTime;

            // ì„±ëŠ¥ ì„ê³„ê°’ ì²´í¬ (500ms)
            if (executionTime > 500) {
                log.warn("ì„±ëŠ¥ ê²½ê³ : {}.{} - ì‹¤í–‰ì‹œê°„: {}ms", 
                    className, methodName, executionTime);
            } else if (log.isDebugEnabled()) {
                log.debug("ë©”ì„œë“œ ì™„ë£Œ: {}.{} - ì‹¤í–‰ì‹œê°„: {}ms", 
                    className, methodName, executionTime);
            }

            return result;

        } catch (Exception e) {
            long executionTime = System.currentTimeMillis() - startTime;
            log.error("ë©”ì„œë“œ ì˜ˆì™¸: {}.{} - ì‹¤í–‰ì‹œê°„: {}ms - ì˜¤ë¥˜: {}", 
                className, methodName, executionTime, e.getMessage());
            throw e;
        }
    }

    private String maskSensitiveData(Object[] args) {
        // ë¯¼ê°í•œ ì •ë³´ ë§ˆìŠ¤í‚¹ ë¡œì§
        return Arrays.stream(args)
            .map(this::maskIfSensitive)
            .map(String::valueOf)
            .collect(Collectors.joining(", "));
    }

    private Object maskIfSensitive(Object arg) {
        if (arg == null) return "null";

        String argString = arg.toString().toLowerCase();
        for (String sensitive : SENSITIVE_PARAMS) {
            if (argString.contains(sensitive)) {
                return "***MASKED***";
            }
        }
        return arg;
    }
}
```

### ğŸŸ¡ 10. íŠ¸ëœì­ì…˜ ìµœì í™” âš ï¸ **MEDIUM**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `TransactionAspect.java`

**ğŸ” ë¬¸ì œì **:

- ì½ê¸° ì „ìš© íŠ¸ëœì­ì…˜ ì†ì„± ë¯¸ì‚¬ìš©
- ëª¨ë“  ë©”ì„œë“œì— ë™ì¼í•œ íŠ¸ëœì­ì…˜ ì†ì„± ì ìš©

**âœ… ìˆ˜ì • ê³„íš**:

```java
// TransactionConfig.java - ì„¸ë°€í•œ íŠ¸ëœì­ì…˜ ì œì–´
@Configuration
@EnableTransactionManagement
public class TransactionConfig {

    @Bean
    public TransactionInterceptor transactionAdvice(PlatformTransactionManager transactionManager) {
        NameMatchTransactionAttributeSource source = new NameMatchTransactionAttributeSource();

        // ì½ê¸° ì „ìš© íŠ¸ëœì­ì…˜
        RuleBasedTransactionAttribute readOnlyAttribute = new RuleBasedTransactionAttribute();
        readOnlyAttribute.setReadOnly(true);
        readOnlyAttribute.setPropagationBehavior(TransactionDefinition.PROPAGATION_SUPPORTS);
        readOnlyAttribute.setTimeout(30);

        source.addTransactionalMethod("get*", readOnlyAttribute);
        source.addTransactionalMethod("find*", readOnlyAttribute);
        source.addTransactionalMethod("search*", readOnlyAttribute);
        source.addTransactionalMethod("count*", readOnlyAttribute);
        source.addTransactionalMethod("exists*", readOnlyAttribute);

        // ì“°ê¸° íŠ¸ëœì­ì…˜
        RuleBasedTransactionAttribute writeAttribute = new RuleBasedTransactionAttribute();
        writeAttribute.setRollbackRules(List.of(
            new RollbackRuleAttribute(Exception.class),
            new NoRollbackRuleAttribute(IllegalArgumentException.class)
        ));
        writeAttribute.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRED);
        writeAttribute.setTimeout(60);

        source.addTransactionalMethod("save*", writeAttribute);
        source.addTransactionalMethod("update*", writeAttribute);
        source.addTransactionalMethod("delete*", writeAttribute);
        source.addTransactionalMethod("create*", writeAttribute);
        source.addTransactionalMethod("process*", writeAttribute);

        return new TransactionInterceptor(transactionManager, source);
    }
}
```

---

## ğŸ’¾ ìºì‹œ ì‹œìŠ¤í…œ ê°œì„ 

### ğŸŸ¡ 11. ìºì‹œ ë©”íŠ¸ë¦­ ì‹œìŠ¤í…œ ê°œì„  âš ï¸ **MEDIUM**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `CacheMetricsService.java`

**ğŸ” ë¬¸ì œì **:

- ë©”ëª¨ë¦¬ ê¸°ë°˜ ì¹´ìš´í„°ë¡œ ì¬ì‹œì‘ ì‹œ ì´ˆê¸°í™”
- Redis KEYS ëª…ë ¹ì–´ ì‚¬ìš©ìœ¼ë¡œ ì„±ëŠ¥ ìœ„í—˜
- ë©€í‹° ì¸ìŠ¤í„´ìŠ¤ í™˜ê²½ì—ì„œ í†µê³„ ë¶„ì‚°

**âœ… ìˆ˜ì • ê³„íš**:

```java
// CacheMetricsService.java - Redis ê¸°ë°˜ ë©”íŠ¸ë¦­
@Service
@Slf4j
public class CacheMetricsService {

    private final RedisTemplate<String, String> redisTemplate;
    private final MeterRegistry meterRegistry;

    public CacheMetricsService(RedisTemplate<String, String> redisTemplate,
                              MeterRegistry meterRegistry) {
        this.redisTemplate = redisTemplate;
        this.meterRegistry = meterRegistry;
    }

    public void recordCacheHit(String cacheName) {
        String key = "cache:metrics:" + cacheName + ":hits";
        redisTemplate.opsForValue().increment(key);
        redisTemplate.expire(key, Duration.ofDays(7));

        // Micrometer ë©”íŠ¸ë¦­ ê¸°ë¡
        Counter.builder("cache.hits")
            .tag("cache", cacheName)
            .register(meterRegistry)
            .increment();
    }

    public void recordCacheMiss(String cacheName) {
        String key = "cache:metrics:" + cacheName + ":misses";
        redisTemplate.opsForValue().increment(key);
        redisTemplate.expire(key, Duration.ofDays(7));

        Counter.builder("cache.misses")
            .tag("cache", cacheName)
            .register(meterRegistry)
            .increment();
    }

    public CacheStatistics getCacheStatistics(String cacheName) {
        String hitsKey = "cache:metrics:" + cacheName + ":hits";
        String missesKey = "cache:metrics:" + cacheName + ":misses";

        Long hits = Optional.ofNullable(redisTemplate.opsForValue().get(hitsKey))
            .map(Long::valueOf).orElse(0L);
        Long misses = Optional.ofNullable(redisTemplate.opsForValue().get(missesKey))
            .map(Long::valueOf).orElse(0L);

        return CacheStatistics.builder()
            .cacheName(cacheName)
            .hits(hits)
            .misses(misses)
            .hitRatio(calculateHitRatio(hits, misses))
            .totalRequests(hits + misses)
            .build();
    }

    // SCAN ëª…ë ¹ì–´ë¡œ ì„±ëŠ¥ ê°œì„ 
    public Set<String> getCacheKeys(String cacheName) {
        Set<String> keys = new HashSet<>();
        String pattern = "sodam:" + cacheName + "*";

        ScanOptions options = ScanOptions.scanOptions()
            .match(pattern)
            .count(100)
            .build();

        try (Cursor<String> cursor = redisTemplate.scan(options)) {
            cursor.forEachRemaining(keys::add);
        } catch (Exception e) {
            log.error("ìºì‹œ í‚¤ ì¡°íšŒ ì‹¤íŒ¨ - ìºì‹œëª…: {}, ì˜¤ë¥˜: {}", cacheName, e.getMessage());
        }

        return keys;
    }

    private double calculateHitRatio(Long hits, Long misses) {
        long total = hits + misses;
        return total == 0 ? 0.0 : (double) hits / total * 100;
    }
}
```

### ğŸŸ¢ 12. ìºì‹œ ì›Œë°ì—… ì „ëµ ê°œì„  âš ï¸ **LOW**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `CacheWarmupService.java`

**ğŸ” ë¬¸ì œì **:

- ì‚¬ìš©ì ìºì‹œì— Optional.of(user) ì§ì ‘ ì €ì¥
- í•˜ë“œì½”ë”©ëœ ì •ì±… (100ê°œ ì œí•œ)

**âœ… ìˆ˜ì • ê³„íš**:

```java
// CacheWarmupService.java - ê°œì„ ëœ ì›Œë°ì—… ì „ëµ
@Service
@Slf4j
public class CacheWarmupService {

    private final UserService userService;
    private final StoreService storeService;
    private final PolicyInfoService policyInfoService;

    @Value("${cache.warmup.user-limit:200}")
    private int userWarmupLimit;

    @Value("${cache.warmup.store-limit:100}")
    private int storeWarmupLimit;

    @EventListener(ApplicationReadyEvent.class)
    public void warmupCaches() {
        log.info("ìºì‹œ ì›Œë°ì—… ì‹œì‘");

        CompletableFuture.allOf(
            CompletableFuture.runAsync(this::warmupUserCache),
            CompletableFuture.runAsync(this::warmupStoreCache),
            CompletableFuture.runAsync(this::warmupPolicyCache)
        ).thenRun(() -> log.info("ìºì‹œ ì›Œë°ì—… ì™„ë£Œ"));
    }

    private void warmupUserCache() {
        try {
            List<User> recentUsers = userService.findRecentActiveUsers(userWarmupLimit);

            for (User user : recentUsers) {
                try {
                    // ì„œë¹„ìŠ¤ ë©”ì„œë“œë¥¼ í†µí•œ ìºì‹œ ì›Œë°ì—… (ìºì‹œ ì–´ë…¸í…Œì´ì…˜ í™œìš©)
                    userService.findByEmail(user.getEmail());
                    userService.findById(user.getId());
                } catch (Exception e) {
                    log.warn("ì‚¬ìš©ì ìºì‹œ ì›Œë°ì—… ì‹¤íŒ¨ - ì‚¬ìš©ì ID: {}, ì˜¤ë¥˜: {}", 
                        user.getId(), e.getMessage());
                }
            }

            log.info("ì‚¬ìš©ì ìºì‹œ ì›Œë°ì—… ì™„ë£Œ - ëŒ€ìƒ: {}ëª…", recentUsers.size());

        } catch (Exception e) {
            log.error("ì‚¬ìš©ì ìºì‹œ ì›Œë°ì—… ì „ì²´ ì‹¤íŒ¨", e);
        }
    }

    private void warmupStoreCache() {
        try {
            List<Store> activeStores = storeService.findActiveStores(storeWarmupLimit);

            for (Store store : activeStores) {
                try {
                    storeService.findById(store.getId());
                    storeService.findStoreEmployees(store.getId());
                } catch (Exception e) {
                    log.warn("ë§¤ì¥ ìºì‹œ ì›Œë°ì—… ì‹¤íŒ¨ - ë§¤ì¥ ID: {}", store.getId());
                }
            }

            log.info("ë§¤ì¥ ìºì‹œ ì›Œë°ì—… ì™„ë£Œ - ëŒ€ìƒ: {}ê°œ", activeStores.size());

        } catch (Exception e) {
            log.error("ë§¤ì¥ ìºì‹œ ì›Œë°ì—… ì „ì²´ ì‹¤íŒ¨", e);
        }
    }

    private void warmupPolicyCache() {
        try {
            // ìµœì‹  ì •ì±… ì •ë³´ ìºì‹œ ì›Œë°ì—…
            policyInfoService.findRecentPolicies(50);
            log.info("ì •ì±… ì •ë³´ ìºì‹œ ì›Œë°ì—… ì™„ë£Œ");
        } catch (Exception e) {
            log.error("ì •ì±… ì •ë³´ ìºì‹œ ì›Œë°ì—… ì‹¤íŒ¨", e);
        }
    }
}
```

---

## ğŸŒ API ë° Controller ê°œì„ 

### ğŸ”´ 13. LoginController ë³´ì•ˆ ê°•í™” âš ï¸ **CRITICAL**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `LoginController.java`

**ğŸ” ë¬¸ì œì **:

- `redirectUrl`, `clientId` ë³€ìˆ˜ ë¯¸ì •ì˜
- í† í°ì„ ì‘ë‹µ ë³¸ë¬¸ê³¼ ì¿ í‚¤ ì–‘ìª½ì— ë…¸ì¶œ
- í† í° ë§Œë£Œ ì‹œê°„ í•˜ë“œì½”ë”©
- RuntimeException ì§ì ‘ ì‚¬ìš©

**âœ… ìˆ˜ì • ê³„íš**:

```java
// LoginController.java - ë³´ì•ˆ ê°•í™”
@RestController
@RequestMapping("/api/auth")
@Slf4j
@Validated
public class LoginController {

    @Value("${kakao.redirect-url}")
    private String redirectUrl;

    @Value("${kakao.client-id}")
    private String clientId;

    @Value("${jwt.cookie.secure:true}")
    private boolean secureCookie;

    @Value("${jwt.cookie.same-site:Strict}")
    private String sameSite;

    private final AuthService authService;
    private final JwtTokenProvider jwtTokenProvider;

    @PostMapping("/kakao/callback")
    public ResponseEntity<AuthResponse> kakaoCallback(
        @Valid @RequestBody KakaoCallbackRequest request,
        HttpServletResponse response) {

        try {
            // ì¹´ì¹´ì˜¤ ì¸ì¦ ì²˜ë¦¬
            KakaoUserInfo userInfo = authService.processKakaoAuth(request.getCode());
            User user = authService.findOrCreateUser(userInfo);

            // JWT í† í° ìƒì„±
            TokenPair tokenPair = jwtTokenProvider.generateTokenPair(user);

            // Access Tokenì€ HttpOnly ì¿ í‚¤ë¡œë§Œ ì „ë‹¬
            addTokenCookie(response, "accessToken", tokenPair.getAccessToken(), 
                jwtTokenProvider.getAccessTokenExpiration());

            // Refresh Tokenì€ ë³„ë„ HttpOnly ì¿ í‚¤
            addTokenCookie(response, "refreshToken", tokenPair.getRefreshToken(),
                jwtTokenProvider.getRefreshTokenExpiration());

            // ì‘ë‹µì—ëŠ” í† í° ì œì™¸í•˜ê³  ì‚¬ìš©ì ì •ë³´ë§Œ í¬í•¨
            AuthResponse authResponse = AuthResponse.builder()
                .userId(user.getId())
                .email(user.getEmail())
                .userGrade(user.getUserGrade().getValue())
                .loginTime(LocalDateTime.now())
                .build();

            log.info("ì‚¬ìš©ì ë¡œê·¸ì¸ ì„±ê³µ - ì‚¬ìš©ì ID: {}, ì´ë©”ì¼: {}", 
                user.getId(), user.getEmail());

            return ResponseEntity.ok(authResponse);

        } catch (AuthenticationException e) {
            log.warn("ì¸ì¦ ì‹¤íŒ¨: {}", e.getMessage());
            throw new CustomAuthenticationException("ì¸ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.", e);
        } catch (Exception e) {
            log.error("ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ", e);
            throw new InternalServerException("ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        }
    }

    @PostMapping("/refresh")
    public ResponseEntity<Void> refreshToken(
        HttpServletRequest request, 
        HttpServletResponse response) {

        String refreshToken = extractTokenFromCookie(request, "refreshToken");

        if (refreshToken == null || !jwtTokenProvider.validateToken(refreshToken)) {
            throw new InvalidTokenException("ìœ íš¨í•˜ì§€ ì•Šì€ ë¦¬í”„ë ˆì‹œ í† í°ì…ë‹ˆë‹¤.");
        }

        try {
            String newAccessToken = jwtTokenProvider.refreshAccessToken(refreshToken);
            addTokenCookie(response, "accessToken", newAccessToken,
                jwtTokenProvider.getAccessTokenExpiration());

            return ResponseEntity.ok().build();

        } catch (Exception e) {
            log.error("í† í° ê°±ì‹  ì‹¤íŒ¨", e);
            throw new TokenRefreshException("í† í° ê°±ì‹ ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
        }
    }

    @PostMapping("/logout")
    public ResponseEntity<Void> logout(HttpServletRequest request, HttpServletResponse response) {
        // ì¿ í‚¤ ì‚­ì œ
        clearTokenCookie(response, "accessToken");
        clearTokenCookie(response, "refreshToken");

        // Redisì—ì„œ í† í° ë¬´íš¨í™”
        String accessToken = extractTokenFromCookie(request, "accessToken");
        if (accessToken != null) {
            authService.invalidateToken(accessToken);
        }

        return ResponseEntity.ok().build();
    }

    private void addTokenCookie(HttpServletResponse response, String name, 
                               String value, long maxAge) {
        Cookie cookie = new Cookie(name, value);
        cookie.setHttpOnly(true);
        cookie.setSecure(secureCookie);
        cookie.setPath("/");
        cookie.setMaxAge((int) (maxAge / 1000));
        cookie.setAttribute("SameSite", sameSite);
        response.addCookie(cookie);
    }

    private void clearTokenCookie(HttpServletResponse response, String name) {
        Cookie cookie = new Cookie(name, "");
        cookie.setHttpOnly(true);
        cookie.setSecure(secureCookie);
        cookie.setPath("/");
        cookie.setMaxAge(0);
        response.addCookie(cookie);
    }

    private String extractTokenFromCookie(HttpServletRequest request, String cookieName) {
        if (request.getCookies() != null) {
            return Arrays.stream(request.getCookies())
                .filter(cookie -> cookieName.equals(cookie.getName()))
                .map(Cookie::getValue)
                .findFirst()
                .orElse(null);
        }
        return null;
    }
}
```

---

## ğŸ”„ ì„œë¹„ìŠ¤ ë ˆì´ì–´ ê°œì„ 

### ğŸŸ¡ 14. RedisService íƒ€ì… í†µì¼ âš ï¸ **MEDIUM**

**ğŸ“ ì˜í–¥ íŒŒì¼**: `RedisService.java`

**ğŸ” ë¬¸ì œì **:

- `verifyToken()` ë©”ì„œë“œì˜ userId íŒŒë¼ë¯¸í„°ê°€ Stringì¸ë° ë‹¤ë¥¸ ë©”ì„œë“œëŠ” Long
- ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ ë¶ˆì¼ì¹˜ë¡œ ì¸í•œ íƒ€ì… ì•ˆì „ì„± ë¬¸ì œ

**âœ… ìˆ˜ì • ê³„íš**:

```java
// RedisService.java - íƒ€ì… í†µì¼ ë° ê°œì„ 
@Service
@Slf4j
public class RedisService {

    private final RedisTemplate<String, Object> jwtRedisTemplate;
    private final RedisTemplate<String, String> redisTemplate;

    private static final String USER_TOKENS_PREFIX = "USER_TOKENS:";
    private static final String TOKEN_BLACKLIST_PREFIX = "TOKEN_BLACKLIST:";

    public void storeToken(Long userId, String token, Duration expiration) {
        try {
            String key = USER_TOKENS_PREFIX + userId;
            String tokenHash = hashToken(token);

            jwtRedisTemplate.opsForHash().put(key, tokenHash, token);
            jwtRedisTemplate.expire(key, expiration);

            log.debug("í† í° ì €ì¥ ì™„ë£Œ - ì‚¬ìš©ì ID: {}", userId);
        } catch (Exception e) {
            log.error("í† í° ì €ì¥ ì‹¤íŒ¨ - ì‚¬ìš©ì ID: {}, ì˜¤ë¥˜: {}", userId, e.getMessage());
            throw new TokenStorageException("í† í° ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.", e);
        }
    }

    public boolean verifyToken(Long userId, String token) {
        try {
            String key = USER_TOKENS_PREFIX + userId;
            String tokenHash = hashToken(token);
            Object storedToken = jwtRedisTemplate.opsForHash().get(key, tokenHash);

            boolean isValid = storedToken != null;
            log.debug("í† í° ê²€ì¦ ê²°ê³¼ - ì‚¬ìš©ì ID: {}, ìœ íš¨ì„±: {}", userId, isValid);

            return isValid;
        } catch (Exception e) {
            log.error("í† í° ê²€ì¦ ì‹¤íŒ¨ - ì‚¬ìš©ì ID: {}, ì˜¤ë¥˜: {}", userId, e.getMessage());
            return false;
        }
    }

    public void removeToken(Long userId, String token) {
        try {
            String key = USER_TOKENS_PREFIX + userId;
            String tokenHash = hashToken(token);

            jwtRedisTemplate.opsForHash().delete(key, tokenHash);
            log.debug("í† í° ì œê±° ì™„ë£Œ - ì‚¬ìš©ì ID: {}", userId);
        } catch (Exception e) {
            log.error("í† í° ì œê±° ì‹¤íŒ¨ - ì‚¬ìš©ì ID: {}, ì˜¤ë¥˜: {}", userId, e.getMessage());
        }
    }

    public void blacklistToken(String token, Duration expiration) {
        try {
            String key = TOKEN_BLACKLIST_PREFIX + hashToken(token);
            redisTemplate.opsForValue().set(key, "blacklisted", expiration);

            log.debug("í† í° ë¸”ë™ë¦¬ìŠ¤íŠ¸ ë“±ë¡ ì™„ë£Œ");
        } catch (Exception e) {
            log.error("í† í° ë¸”ë™ë¦¬ìŠ¤íŠ¸ ë“±ë¡ ì‹¤íŒ¨: {}", e.getMessage());
        }
    }

    public boolean isTokenBlacklisted(String token) {
        try {
            String key = TOKEN_BLACKLIST_PREFIX + hashToken(token);
            return Boolean.TRUE.equals(redisTemplate.hasKey(key));
        } catch (Exception e) {
            log.error("í† í° ë¸”ë™ë¦¬ìŠ¤íŠ¸ í™•ì¸ ì‹¤íŒ¨: {}", e.getMessage());
            return false;
        }
    }

    private String hashToken(String token) {
        try {
            MessageDigest digest = MessageDigest.getInstance("SHA-256");
            byte[] hash = digest.digest(token.getBytes(StandardCharsets.UTF_8));
            return Base64.getEncoder().encodeToString(hash);
        } catch (NoSuchAlgorithmException e) {
            log.error("í† í° í•´ì‹œ ìƒì„± ì‹¤íŒ¨", e);
            throw new RuntimeException("í† í° í•´ì‹œ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.", e);
        }
    }
}
```

---

## ğŸ“± React Native ê´€ë ¨ ë¶„ì„ (ì‹ ê·œ ì¶”ê°€)

### ğŸŸ¡ 15. React Native ì„¤ì • ìµœì í™” âš ï¸ **MEDIUM**

**ğŸ” ë¶„ì„ ê²°ê³¼**:
í”„ë¡œì íŠ¸ ê¸°íšì„œì— ë”°ë¥´ë©´ React Native 0.80.0 ê¸°ë°˜ í¬ë¡œìŠ¤ í”Œë«í¼ ê°œë°œì´ ê³„íšë˜ì–´ ìˆìœ¼ë‚˜, í˜„ì¬ ë°±ì—”ë“œ ì¤‘ì‹¬ì˜ ë¶„ì„ë§Œ ì§„í–‰ë¨.

**ğŸ“‹ React Native ê´€ë ¨ ê¶Œì¥ì‚¬í•­**:

#### 15.1 API ì‘ë‹µ í˜•ì‹ í‘œì¤€í™”

```typescript
// ë°±ì—”ë“œ API ì‘ë‹µ í‘œì¤€í™” (React Native í˜¸í™˜)
interface ApiResponse<T> {
  success: boolean;
  data?: T;
  error?: {
    code: string;
    message: string;
    details?: any;
  };
  timestamp: string;
  requestId: string;
}

// í˜ì´ì§€ë„¤ì´ì…˜ ì‘ë‹µ
interface PagedResponse<T> extends ApiResponse<T[]> {
  pagination: {
    page: number;
    size: number;
    totalElements: number;
    totalPages: number;
    hasNext: boolean;
    hasPrevious: boolean;
  };
}
```

#### 15.2 React Native Web ì§€ì› ê³ ë ¤ì‚¬í•­

```java
// CORS ì„¤ì • (React Native Web ì§€ì›)
@Configuration
public class WebConfig implements WebMvcConfigurer {

    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping("/api/**")
            .allowedOriginPatterns("*")
            .allowedMethods("GET", "POST", "PUT", "DELETE", "OPTIONS")
            .allowedHeaders("*")
            .allowCredentials(true)
            .maxAge(3600);
    }
}
```

#### 15.3 ëª¨ë°”ì¼ ìµœì í™” API ì„¤ê³„

```java
// ëª¨ë°”ì¼ ì¹œí™”ì  API ì‘ë‹µ í¬ê¸° ìµœì í™”
@RestController
@RequestMapping("/api/mobile")
public class MobileOptimizedController {

    @GetMapping("/attendance/summary")
    public ResponseEntity<MobileAttendanceSummary> getAttendanceSummary(
        @RequestParam Long userId,
        @RequestParam @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate date) {

        // ëª¨ë°”ì¼ì— í•„ìš”í•œ ìµœì†Œí•œì˜ ë°ì´í„°ë§Œ ë°˜í™˜
        MobileAttendanceSummary summary = attendanceService.getMobileSummary(userId, date);
        return ResponseEntity.ok(summary);
    }
}
```

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™” ë¶„ì„ (ì‹ ê·œ ì¶”ê°€)

### ğŸŸ¡ 16. ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ ìµœì í™” âš ï¸ **MEDIUM**

**ğŸ” ë¶„ì„ ê²°ê³¼**:
í˜„ì¬ MyBatis ê¸°ë°˜ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µì´ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë‚˜, ì„±ëŠ¥ ìµœì í™” ê´€ì ì—ì„œ ê°œì„ ì´ í•„ìš”í•¨.

**ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™” ê¶Œì¥ì‚¬í•­**:

#### 16.1 ì¸ë±ìŠ¤ ì „ëµ

```sql
-- ì¶œê·¼ ê¸°ë¡ ì¡°íšŒ ìµœì í™”
CREATE INDEX idx_attendance_user_date ON attendance(user_id, attendance_date DESC);
CREATE INDEX idx_attendance_store_date ON attendance(store_id, attendance_date DESC);

-- ê¸‰ì—¬ ê³„ì‚° ìµœì í™”
CREATE INDEX idx_wage_employee_store ON wages(employee_id, store_id);
CREATE INDEX idx_wage_effective_date ON wages(effective_date DESC);

-- ì‚¬ìš©ì ê²€ìƒ‰ ìµœì í™”
CREATE INDEX idx_user_email ON users(email);
CREATE INDEX idx_user_status_created ON users(status, created_at DESC);

-- ë§¤ì¥ ê´€ë¦¬ ìµœì í™”
CREATE INDEX idx_store_owner ON stores(owner_id);
CREATE INDEX idx_store_location ON stores(latitude, longitude);
```

#### 16.2 ì¿¼ë¦¬ ìµœì í™”

```java
// MyBatis ì¿¼ë¦¬ ìµœì í™” ì˜ˆì‹œ
@Mapper
public interface AttendanceMapper {

    // í˜ì´ì§€ë„¤ì´ì…˜ ìµœì í™”
    @Select("""
        SELECT a.*, u.name as user_name, s.name as store_name
        FROM attendance a
        JOIN users u ON a.user_id = u.id
        JOIN stores s ON a.store_id = s.id
        WHERE a.store_id = #{storeId}
        AND a.attendance_date BETWEEN #{startDate} AND #{endDate}
        ORDER BY a.attendance_date DESC, a.check_in_time DESC
        LIMIT #{offset}, #{limit}
        """)
    List<AttendanceDetailDto> findAttendanceWithDetails(
        @Param("storeId") Long storeId,
        @Param("startDate") LocalDate startDate,
        @Param("endDate") LocalDate endDate,
        @Param("offset") int offset,
        @Param("limit") int limit
    );

    // ì§‘ê³„ ì¿¼ë¦¬ ìµœì í™”
    @Select("""
        SELECT 
            DATE(attendance_date) as work_date,
            COUNT(*) as total_employees,
            SUM(TIMESTAMPDIFF(MINUTE, check_in_time, check_out_time)) as total_minutes
        FROM attendance
        WHERE store_id = #{storeId}
        AND attendance_date BETWEEN #{startDate} AND #{endDate}
        AND check_out_time IS NOT NULL
        GROUP BY DATE(attendance_date)
        ORDER BY work_date DESC
        """)
    List<DailyWorkSummary> getDailyWorkSummary(
        @Param("storeId") Long storeId,
        @Param("startDate") LocalDate startDate,
        @Param("endDate") LocalDate endDate
    );
}
```

#### 16.3 ì—°ê²° í’€ ìµœì í™”

```yaml
# application.yml - HikariCP ìµœì í™”
spring:
  datasource:
    hikari:
      maximum-pool-size: ${DB_POOL_SIZE:20}
      minimum-idle: ${DB_MIN_IDLE:5}
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000
      leak-detection-threshold: 60000
      pool-name: SodamHikariPool
      connection-test-query: SELECT 1
      validation-timeout: 5000
```

---

## ğŸ“Š ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ (ì‹ ê·œ ì¶”ê°€)

### ğŸŸ¡ 17. ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë‹ˆí„°ë§ êµ¬ì¶• âš ï¸ **MEDIUM**

**ğŸ” í˜„ì¬ ìƒíƒœ**:
ê¸°ë³¸ì ì¸ ë¡œê¹…ì€ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë‚˜, ì²´ê³„ì ì¸ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì´ ë¶€ì¬í•¨.

**âœ… ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶• ê³„íš**:

#### 17.1 Micrometer ê¸°ë°˜ ë©”íŠ¸ë¦­ ìˆ˜ì§‘

```java
// MetricsConfig.java - ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ ì„¤ì •
@Configuration
public class MetricsConfig {

    @Bean
    public TimedAspect timedAspect(MeterRegistry registry) {
        return new TimedAspect(registry);
    }

    @Bean
    public CountedAspect countedAspect(MeterRegistry registry) {
        return new CountedAspect(registry);
    }

    @Bean
    @ConditionalOnMissingBean
    public MeterRegistryCustomizer<MeterRegistry> metricsCommonTags() {
        return registry -> registry.config()
            .commonTags("application", "sodam")
            .commonTags("environment", "${spring.profiles.active:unknown}");
    }
}

// ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
@Service
public class BusinessMetricsService {

    private final Counter checkInCounter;
    private final Counter checkOutCounter;
    private final Timer salaryCalculationTimer;
    private final Gauge activeUsersGauge;

    public BusinessMetricsService(MeterRegistry meterRegistry) {
        this.checkInCounter = Counter.builder("business.checkin.total")
            .description("ì´ ì¶œê·¼ íšŸìˆ˜")
            .register(meterRegistry);

        this.checkOutCounter = Counter.builder("business.checkout.total")
            .description("ì´ í‡´ê·¼ íšŸìˆ˜")
            .register(meterRegistry);

        this.salaryCalculationTimer = Timer.builder("business.salary.calculation.duration")
            .description("ê¸‰ì—¬ ê³„ì‚° ì†Œìš” ì‹œê°„")
            .register(meterRegistry);

        this.activeUsersGauge = Gauge.builder("business.users.active")
            .description("í™œì„± ì‚¬ìš©ì ìˆ˜")
            .register(meterRegistry, this, BusinessMetricsService::getActiveUserCount);
    }

    public void recordCheckIn(String storeType) {
        checkInCounter.increment(Tags.of("store.type", storeType));
    }

    public void recordSalaryCalculation(Duration duration) {
        salaryCalculationTimer.record(duration);
    }

    private double getActiveUserCount() {
        // í™œì„± ì‚¬ìš©ì ìˆ˜ ê³„ì‚° ë¡œì§
        return 0.0; // ì‹¤ì œ êµ¬í˜„ í•„ìš”
    }
}
```

#### 17.2 í—¬ìŠ¤ ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ í™•ì¥

```java
// CustomHealthIndicator.java - ì»¤ìŠ¤í…€ í—¬ìŠ¤ ì²´í¬
@Component
public class DatabaseHealthIndicator implements HealthIndicator {

    private final DataSource dataSource;

    @Override
    public Health health() {
        try (Connection connection = dataSource.getConnection()) {
            if (connection.isValid(1)) {
                return Health.up()
                    .withDetail("database", "MySQL")
                    .withDetail("validationQuery", "SELECT 1")
                    .build();
            }
        } catch (SQLException e) {
            return Health.down()
                .withDetail("database", "MySQL")
                .withDetail("error", e.getMessage())
                .build();
        }

        return Health.down()
            .withDetail("database", "MySQL")
            .withDetail("error", "Connection validation failed")
            .build();
    }
}

@Component
public class RedisHealthIndicator implements HealthIndicator {

    private final RedisTemplate<String, String> redisTemplate;

    @Override
    public Health health() {
        try {
            String pong = redisTemplate.getConnectionFactory()
                .getConnection()
                .ping();

            if ("PONG".equals(pong)) {
                return Health.up()
                    .withDetail("redis", "Available")
                    .withDetail("response", pong)
                    .build();
            }
        } catch (Exception e) {
            return Health.down()
                .withDetail("redis", "Unavailable")
                .withDetail("error", e.getMessage())
                .build();
        }

        return Health.down()
            .withDetail("redis", "Unavailable")
            .build();
    }
}
```

#### 17.3 ë¡œê·¸ êµ¬ì¡°í™” ë° ì¤‘ì•™ì§‘ì¤‘í™”

```yaml
# logback-spring.xml ì„¤ì •
logging:
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level [%X{requestId}] %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level [%X{requestId}] %logger{36} - %msg%n"
  level:
    com.rich.sodam: ${LOG_LEVEL:INFO}
    org.springframework.security: WARN
    org.springframework.web: ${WEB_LOG_LEVEL:INFO}
    org.hibernate.SQL: ${SQL_LOG_LEVEL:WARN}
    org.hibernate.type.descriptor.sql.BasicBinder: ${SQL_PARAM_LOG_LEVEL:WARN}
  file:
    name: ${LOG_FILE:logs/sodam.log}
    max-size: 100MB
    max-history: 30
```

---

## ğŸš€ ë°°í¬ ë° ìš´ì˜ ì „ëµ (ì‹ ê·œ ì¶”ê°€)

### ğŸŸ¡ 18. ë°°í¬ í™˜ê²½ ìµœì í™” âš ï¸ **MEDIUM**

**ğŸ” í˜„ì¬ ìƒíƒœ**:
AWS ê¸°ë°˜ ë°°í¬ê°€ ê³„íšë˜ì–´ ìˆìœ¼ë‚˜, êµ¬ì²´ì ì¸ ë°°í¬ ì „ëµ ë° í™˜ê²½ ì„¤ì •ì´ ë¶€ì¡±í•¨.

**ğŸ“‹ ë°°í¬ ì „ëµ ê¶Œì¥ì‚¬í•­**:

#### 18.1 í™˜ê²½ë³„ ì„¤ì • ê´€ë¦¬

```yaml
# application-prod.yml - ìš´ì˜í™˜ê²½ ì„¤ì •
spring:
  profiles:
    active: prod
  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    hikari:
      maximum-pool-size: 50
      minimum-idle: 10
      connection-timeout: 30000
      idle-timeout: 300000
      max-lifetime: 1800000
  data:
    redis:
      host: ${REDIS_HOST}
      port: ${REDIS_PORT}
      password: ${REDIS_PASSWORD}
      ssl: true
      timeout: 2000ms
      lettuce:
        pool:
          max-active: 20
          max-idle: 10
          min-idle: 5

jwt:
  secret: ${JWT_SECRET}
  expiration: 3600000
  refresh-expiration: 604800000

logging:
  level:
    com.rich.sodam: INFO
    org.springframework.security: WARN
  file:
    name: /var/log/sodam/application.log
    max-size: 200MB
    max-history: 60

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: when-authorized
  metrics:
    export:
      prometheus:
        enabled: true
```

#### 18.2 Docker ì»¨í…Œì´ë„ˆí™”

```dockerfile
# Dockerfile - ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œ
FROM openjdk:17-jdk-slim as builder

WORKDIR /app
COPY gradlew .
COPY gradle gradle
COPY build.gradle .
COPY settings.gradle .
COPY src src

RUN chmod +x ./gradlew
RUN ./gradlew bootJar

FROM openjdk:17-jre-slim

RUN apt-get update && apt-get install -y \
    curl \
    && rm -rf /var/lib/apt/lists/*

WORKDIR /app

COPY --from=builder /app/build/libs/*.jar app.jar

# ë¹„root ì‚¬ìš©ì ìƒì„±
RUN groupadd -r sodam && useradd -r -g sodam sodam
RUN chown -R sodam:sodam /app
USER sodam

EXPOSE 8080

HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD curl -f http://localhost:8080/actuator/health || exit 1

ENTRYPOINT ["java", "-jar", "/app/app.jar"]
```

#### 18.3 CI/CD íŒŒì´í”„ë¼ì¸

```yaml
# .github/workflows/deploy.yml
name: Deploy to AWS

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3

    - name: Set up JDK 17
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'temurin'

    - name: Cache Gradle packages
      uses: actions/cache@v3
      with:
        path: |
          ~/.gradle/caches
          ~/.gradle/wrapper
        key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*', '**/gradle-wrapper.properties') }}
        restore-keys: |
          ${{ runner.os }}-gradle-

    - name: Run tests
      run: ./gradlew test

    - name: Generate test report
      run: ./gradlew jacocoTestReport

    - name: Upload coverage to Codecov
      uses: codecov/codecov-action@v3

  build-and-deploy:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'

    steps:
    - uses: actions/checkout@v3

    - name: Configure AWS credentials
      uses: aws-actions/configure-aws-credentials@v2
      with:
        aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
        aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
        aws-region: ap-northeast-2

    - name: Login to Amazon ECR
      id: login-ecr
      uses: aws-actions/amazon-ecr-login@v1

    - name: Build, tag, and push image to Amazon ECR
      env:
        ECR_REGISTRY: ${{ steps.login-ecr.outputs.registry }}
        ECR_REPOSITORY: sodam
        IMAGE_TAG: ${{ github.sha }}
      run: |
        docker build -t $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG .
        docker push $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG

    - name: Deploy to ECS
      run: |
        aws ecs update-service --cluster sodam-cluster --service sodam-service --force-new-deployment
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ ê°•í™”

### ğŸŸ¡ 19. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ëŒ€ âš ï¸ **MEDIUM**

**ğŸ” í˜„ì¬ ìƒíƒœ**:
Mockito ì‚¬ìš© ê¸ˆì§€ ê°€ì´ë“œë¼ì¸ì— ë”°ë¼ ì‹¤ì œ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì „ëµ í•„ìš”.

**âœ… í…ŒìŠ¤íŠ¸ ì „ëµ ê°œì„  ê³„íš**:

#### 19.1 TestContainers ê¸°ë°˜ í†µí•© í…ŒìŠ¤íŠ¸

```java
// IntegrationTestBase.java - í†µí•© í…ŒìŠ¤íŠ¸ ê¸°ë°˜ í´ë˜ìŠ¤
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@Testcontainers
@Transactional
public abstract class IntegrationTestBase {

    @Container
    static MySQLContainer<?> mysql = new MySQLContainer<>("mysql:8.0")
            .withDatabaseName("sodam_test")
            .withUsername("test")
            .withPassword("test")
            .withReuse(true);

    @Container
    static GenericContainer<?> redis = new GenericContainer<>("redis:7-alpine")
            .withExposedPorts(6379)
            .withReuse(true);

    @DynamicPropertySource
    static void configureProperties(DynamicPropertyRegistry registry) {
        registry.add("spring.datasource.url", mysql::getJdbcUrl);
        registry.add("spring.datasource.username", mysql::getUsername);
        registry.add("spring.datasource.password", mysql::getPassword);

        registry.add("spring.data.redis.host", redis::getHost);
        registry.add("spring.data.redis.port", redis::getFirstMappedPort);
    }

    @Autowired
    protected TestRestTemplate restTemplate;

    @Autowired
    protected TestEntityManager entityManager;

    protected void cleanDatabase() {
        entityManager.getEntityManager()
            .createNativeQuery("SET FOREIGN_KEY_CHECKS = 0")
            .executeUpdate();

        // í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬
        entityManager.getEntityManager()
            .createNativeQuery("TRUNCATE TABLE attendance")
            .executeUpdate();
        entityManager.getEntityManager()
            .createNativeQuery("TRUNCATE TABLE users")
            .executeUpdate();

        entityManager.getEntityManager()
            .createNativeQuery("SET FOREIGN_KEY_CHECKS = 1")
            .executeUpdate();
    }
}

// AttendanceServiceIntegrationTest.java - ì‹¤ì œ í†µí•© í…ŒìŠ¤íŠ¸
class AttendanceServiceIntegrationTest extends IntegrationTestBase {

    @Autowired
    private AttendanceService attendanceService;

    @Autowired
    private UserRepository userRepository;

    @Autowired
    private StoreRepository storeRepository;

    @Test
    @DisplayName("ì¶œê·¼ ì²˜ë¦¬ í†µí•© í…ŒìŠ¤íŠ¸ - ì„±ê³µ")
    void checkIn_Integration_Success() {
        // Given
        User user = createTestUser();
        Store store = createTestStore();
        CheckInRequest request = CheckInRequest.builder()
            .userId(user.getId())
            .storeId(store.getId())
            .latitude(37.5665)
            .longitude(126.9780)
            .build();

        // When
        AttendanceResponse response = attendanceService.checkIn(request);

        // Then
        assertThat(response).isNotNull();
        assertThat(response.getUserId()).isEqualTo(user.getId());
        assertThat(response.getStoreId()).isEqualTo(store.getId());
        assertThat(response.getCheckInTime()).isNotNull();

        // ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸
        Optional<Attendance> savedAttendance = attendanceService
            .findTodayAttendance(user.getId(), store.getId());
        assertThat(savedAttendance).isPresent();
        assertThat(savedAttendance.get().getCheckInTime()).isNotNull();
    }

    private User createTestUser() {
        User user = User.builder()
            .email("test@example.com")
            .name("í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì")
            .userGrade(UserGrade.EMPLOYEE)
            .build();
        return userRepository.save(user);
    }

    private Store createTestStore() {
        Store store = Store.builder()
            .name("í…ŒìŠ¤íŠ¸ ë§¤ì¥")
            .latitude(37.5665)
            .longitude(126.9780)
            .address("ì„œìš¸ì‹œ ì¤‘êµ¬ ëª…ë™")
            .build();
        return storeRepository.save(store);
    }
}
```

#### 19.2 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

```java
// PerformanceTest.java - ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
class PerformanceTest extends IntegrationTestBase {

    @Test
    @DisplayName("ë™ì‹œ ì¶œê·¼ ì²˜ë¦¬ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸")
    void concurrentCheckIn_PerformanceTest() throws InterruptedException {
        // Given
        int threadCount = 100;
        int requestsPerThread = 10;
        ExecutorService executorService = Executors.newFixedThreadPool(threadCount);
        CountDownLatch latch = new CountDownLatch(threadCount);

        List<Long> responseTimes = Collections.synchronizedList(new ArrayList<>());
        AtomicInteger successCount = new AtomicInteger(0);
        AtomicInteger errorCount = new AtomicInteger(0);

        // When
        for (int i = 0; i < threadCount; i++) {
            executorService.submit(() -> {
                try {
                    for (int j = 0; j < requestsPerThread; j++) {
                        long startTime = System.currentTimeMillis();

                        try {
                            // ì¶œê·¼ ì²˜ë¦¬ ìš”ì²­
                            CheckInRequest request = createCheckInRequest();
                            attendanceService.checkIn(request);

                            long responseTime = System.currentTimeMillis() - startTime;
                            responseTimes.add(responseTime);
                            successCount.incrementAndGet();

                        } catch (Exception e) {
                            errorCount.incrementAndGet();
                        }
                    }
                } finally {
                    latch.countDown();
                }
            });
        }

        latch.await(30, TimeUnit.SECONDS);
        executorService.shutdown();

        // Then
        double averageResponseTime = responseTimes.stream()
            .mapToLong(Long::longValue)
            .average()
            .orElse(0.0);

        long maxResponseTime = responseTimes.stream()
            .mapToLong(Long::longValue)
            .max()
            .orElse(0L);

        System.out.println("=== ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ===");
        System.out.println("ì´ ìš”ì²­ ìˆ˜: " + (threadCount * requestsPerThread));
        System.out.println("ì„±ê³µ ìˆ˜: " + successCount.get());
        System.out.println("ì‹¤íŒ¨ ìˆ˜: " + errorCount.get());
        System.out.println("í‰ê·  ì‘ë‹µ ì‹œê°„: " + averageResponseTime + "ms");
        System.out.println("ìµœëŒ€ ì‘ë‹µ ì‹œê°„: " + maxResponseTime + "ms");

        // ì„±ëŠ¥ ê¸°ì¤€ ê²€ì¦
        assertThat(averageResponseTime).isLessThan(500.0); // í‰ê·  500ms ì´í•˜
        assertThat(maxResponseTime).isLessThan(2000L); // ìµœëŒ€ 2ì´ˆ ì´í•˜
        assertThat(errorCount.get()).isLessThan(threadCount * requestsPerThread * 0.01); // ì—ëŸ¬ìœ¨ 1% ì´í•˜
    }
}
```

---

## ğŸ“Š ì¢…í•© ìš°ì„ ìˆœìœ„ ë° ë¡œë“œë§µ

### ğŸ¯ ìš°ì„ ìˆœìœ„ë³„ ìˆ˜ì • ê³„íš

#### ğŸ”´ CRITICAL (ì¦‰ì‹œ ìˆ˜ì • í•„ìš”)

| ìˆœìœ„ | í•­ëª©                    | ì˜ˆìƒ ì†Œìš” ì‹œê°„ | ë‹´ë‹¹ì     |
|----|-----------------------|----------|---------|
| 1  | JWT Secret Key ë³´ì•ˆ ë¬¸ì œ  | 2ì‹œê°„      | ë°±ì—”ë“œ ê°œë°œì |
| 2  | ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ ë…¸ì¶œ        | 1ì‹œê°„      | DevOps  |
| 3  | JWT ì¸ì¦ í•„í„° ë¯¸ì™„ì„±         | 4ì‹œê°„      | ë°±ì—”ë“œ ê°œë°œì |
| 4  | LoginController ë³´ì•ˆ ê°•í™” | 6ì‹œê°„      | ë°±ì—”ë“œ ê°œë°œì |

#### ğŸŸ¡ HIGH (ë‹¨ê¸° ìˆ˜ì • ê¶Œì¥ - 1ì£¼ì¼ ë‚´)

| ìˆœìœ„ | í•­ëª©            | ì˜ˆìƒ ì†Œìš” ì‹œê°„ | ë‹´ë‹¹ì     |
|----|---------------|----------|---------|
| 5  | DDL ì„¤ì • ìœ„í—˜ì„±    | 2ì‹œê°„      | ë°±ì—”ë“œ ê°œë°œì |
| 6  | Redis ë³´ì•ˆ ì„¤ì •   | 3ì‹œê°„      | DevOps  |
| 7  | ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ ìµœì í™” | 8ì‹œê°„      | DBA/ë°±ì—”ë“œ |
| 8  | API ì‘ë‹µ í‘œì¤€í™”    | 4ì‹œê°„      | ë°±ì—”ë“œ ê°œë°œì |

#### ğŸŸ¡ MEDIUM (ì¤‘ê¸° ê°œì„  - 2ì£¼ì¼ ë‚´)

| ìˆœìœ„ | í•­ëª©                  | ì˜ˆìƒ ì†Œìš” ì‹œê°„ | ë‹´ë‹¹ì        |
|----|---------------------|----------|------------|
| 9  | ìºì‹œ ì„¤ì • ìµœì í™”           | 6ì‹œê°„      | ë°±ì—”ë“œ ê°œë°œì    |
| 10 | AOP ì„±ëŠ¥ ìµœì í™”          | 8ì‹œê°„      | ë°±ì—”ë“œ ê°œë°œì    |
| 11 | ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶•         | 16ì‹œê°„     | DevOps/ë°±ì—”ë“œ |
| 12 | í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ëŒ€         | 20ì‹œê°„     | ì „ì²´ íŒ€       |
| 13 | React Native ì—°ë™ ìµœì í™” | 12ì‹œê°„     | í”„ë¡ íŠ¸ì—”ë“œ      |

#### ğŸŸ¢ LOW (ì¥ê¸° ê°œì„  - 1ê°œì›” ë‚´)

| ìˆœìœ„ | í•­ëª©           | ì˜ˆìƒ ì†Œìš” ì‹œê°„ | ë‹´ë‹¹ì    |
|----|--------------|----------|--------|
| 14 | ë°°í¬ í™˜ê²½ ìµœì í™”    | 24ì‹œê°„     | DevOps |
| 15 | ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ìë™í™”   | 16ì‹œê°„     | QA/ë°±ì—”ë“œ |
| 16 | ì½”ë“œ ì •ë¦¬ ë° ë¦¬íŒ©í† ë§ | 40ì‹œê°„     | ì „ì²´ íŒ€   |

### ğŸ“… 4ì£¼ ë¡œë“œë§µ

#### 1ì£¼ì°¨: ë³´ì•ˆ ì´ìŠˆ í•´ê²°

- [x] JWT Secret Key í™˜ê²½ë³€ìˆ˜í™”
- [x] ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ ë³´ì•ˆ
- [x] JWT ì¸ì¦ í•„í„° ì™„ì„±
- [x] LoginController ë³´ì•ˆ ê°•í™”

#### 2ì£¼ì°¨: ì„±ëŠ¥ ë° ì•ˆì •ì„± ê°œì„ 

- [ ] DDL ì„¤ì • í™˜ê²½ë³„ ë¶„ë¦¬
- [ ] Redis ë³´ì•ˆ ì„¤ì •
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤ ìµœì í™”
- [ ] API ì‘ë‹µ í‘œì¤€í™”

#### 3ì£¼ì°¨: ëª¨ë‹ˆí„°ë§ ë° í…ŒìŠ¤íŠ¸

- [ ] ìºì‹œ ì‹œìŠ¤í…œ ìµœì í™”
- [ ] AOP ì„±ëŠ¥ ê°œì„ 
- [ ] ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶•
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ í™•ëŒ€

#### 4ì£¼ì°¨: ë°°í¬ ë° ìš´ì˜ ì¤€ë¹„

- [ ] React Native ì—°ë™ ìµœì í™”
- [ ] CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ìë™í™”
- [ ] ë¬¸ì„œí™” ì™„ì„±

---

## ğŸ¯ ê¶Œì¥ì‚¬í•­ ë° ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### ğŸ”’ ë³´ì•ˆ ê°•í™” ë°©ì•ˆ

1. **í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬**: ëª¨ë“  ë¯¼ê°í•œ ì •ë³´ë¥¼ í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬
2. **í† í° ë³´ì•ˆ**: JWT í† í° ë…¸ì¶œ ìµœì†Œí™” ë° HttpOnly ì¿ í‚¤ í™œìš©
3. **API ë³´ì•ˆ**: Rate Limiting, CORS ì„¤ì •, ì…ë ¥ ê²€ì¦ ê°•í™”
4. **ë°ì´í„° ì•”í˜¸í™”**: ë¯¼ê°í•œ ë°ì´í„°ì˜ ì €ì¥ ì‹œ ì•”í˜¸í™” ì ìš©

### âš¡ ì„±ëŠ¥ ìµœì í™” ì „ëµ

1. **ìºì‹œ ì „ëµ**: Redis ê¸°ë°˜ ë‹¤ì¸µ ìºì‹œ êµ¬ì¡° êµ¬ì¶•
2. **ë°ì´í„°ë² ì´ìŠ¤**: ì¸ë±ìŠ¤ ìµœì í™” ë° ì¿¼ë¦¬ íŠœë‹
3. **AOP ìµœì í™”**: ì¤‘ë³µ ì œê±° ë° ì¡°ê±´ë¶€ ë¡œê¹…
4. **ì—°ê²° í’€**: HikariCP ì„¤ì • ìµœì í™”

### ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

1. **ì‹¤ì œ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸**: TestContainers í™œìš©
2. **í†µí•© í…ŒìŠ¤íŠ¸**: ì „ì²´ í”Œë¡œìš° ê²€ì¦
3. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**: ë™ì‹œì„± ë° ë¶€í•˜ í…ŒìŠ¤íŠ¸
4. **ìë™í™”**: CI/CD íŒŒì´í”„ë¼ì¸ í†µí•©

### ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ìš´ì˜

1. **ë©”íŠ¸ë¦­ ìˆ˜ì§‘**: Micrometer + Prometheus
2. **ë¡œê·¸ ê´€ë¦¬**: êµ¬ì¡°í™”ëœ ë¡œê¹… ë° ì¤‘ì•™ì§‘ì¤‘í™”
3. **í—¬ìŠ¤ ì²´í¬**: ì»¤ìŠ¤í…€ í—¬ìŠ¤ ì¸ë””ì¼€ì´í„°
4. **ì•Œë¦¼ ì‹œìŠ¤í…œ**: ì„ê³„ê°’ ê¸°ë°˜ ì•Œë¦¼ ì„¤ì •

### ğŸš€ ë°°í¬ ë° DevOps

1. **ì»¨í…Œì´ë„ˆí™”**: Docker ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œ
2. **í™˜ê²½ ë¶„ë¦¬**: ê°œë°œ/ìŠ¤í…Œì´ì§•/ìš´ì˜ í™˜ê²½ êµ¬ë¶„
3. **ìë™ ë°°í¬**: GitHub Actions + AWS ECS
4. **ë¡¤ë°± ì „ëµ**: ë¬´ì¤‘ë‹¨ ë°°í¬ ë° ë¹ ë¥¸ ë¡¤ë°±

---

## ğŸ“ ê²°ë¡  ë° ë‹¤ìŒ ë‹¨ê³„

### ğŸ¯ í•µì‹¬ ìš”ì•½

ì†Œë‹´(SODAM) í”„ë¡œì íŠ¸ëŠ” **React Native ê¸°ë°˜ í¬ë¡œìŠ¤ í”Œë«í¼ ì•„ë¥´ë°”ì´íŠ¸ ê´€ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜**ìœ¼ë¡œì„œ ê²¬ê³ í•œ Spring Boot ë°±ì—”ë“œ ì•„í‚¤í…ì²˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤.

**ì£¼ìš” ê°•ì **:

- âœ… ì²´ê³„ì ì¸ ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜
- âœ… JWT ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ ê¸°ë°˜ êµ¬ì¡°
- âœ… Redis ìºì‹œ ì‹œìŠ¤í…œ ë„ì…
- âœ… AOP ê¸°ë°˜ íš¡ë‹¨ ê´€ì‹¬ì‚¬ ì²˜ë¦¬
- âœ… MyBatis ê¸°ë°˜ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ

**ì¦‰ì‹œ í•´ê²° í•„ìš”í•œ ë³´ì•ˆ ì´ìŠˆ**:

- ğŸš¨ JWT Secret Key í•˜ë“œì½”ë”© (CRITICAL)
- ğŸš¨ ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ ë…¸ì¶œ (CRITICAL)
- ğŸš¨ JWT ì¸ì¦ í•„í„° ë¯¸ì™„ì„± (CRITICAL)
- ğŸš¨ LoginController ë³´ì•ˆ ì·¨ì•½ì  (CRITICAL)

### ğŸ“ˆ ê°œì„  íš¨ê³¼ ì˜ˆìƒ

#### ë³´ì•ˆ ê°•í™” í›„:

- **ë³´ì•ˆ ìœ„í—˜ë„**: 90% â†’ 10% ê°ì†Œ
- **ì»´í”Œë¼ì´ì–¸ìŠ¤**: OWASP ê¸°ì¤€ ì¶©ì¡±
- **ìš´ì˜ ì•ˆì •ì„±**: í† í° ìœ„ì¡° ë°©ì§€, ë°ì´í„° ìœ ì¶œ ì°¨ë‹¨

#### ì„±ëŠ¥ ìµœì í™” í›„:

- **ì‘ë‹µ ì‹œê°„**: í‰ê·  30% ê°œì„  ì˜ˆìƒ
- **ë™ì‹œ ì²˜ë¦¬ëŸ‰**: 50% ì¦ê°€ ì˜ˆìƒ
- **ìºì‹œ íˆíŠ¸ìœ¨**: 80% ì´ìƒ ë‹¬ì„± ëª©í‘œ

#### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ëŒ€ í›„:

- **ì½”ë“œ ì»¤ë²„ë¦¬ì§€**: í˜„ì¬ ë¯¸ì¸¡ì • â†’ 80% ì´ìƒ ëª©í‘œ
- **ë²„ê·¸ ë°œê²¬ìœ¨**: ìš´ì˜ ì „ 90% ì´ìƒ ì‚¬ì „ ë°œê²¬
- **ë°°í¬ ì•ˆì •ì„±**: ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¡œ ë°°í¬ ìœ„í—˜ ìµœì†Œí™”

### ğŸš€ ë‹¤ìŒ ë‹¨ê³„ ì•¡ì…˜ í”Œëœ

#### ì¦‰ì‹œ ì‹¤í–‰ (24ì‹œê°„ ë‚´)

1. **í™˜ê²½ë³€ìˆ˜ ì„¤ì •**: JWT Secret, DB Password í™˜ê²½ë³€ìˆ˜í™”
2. **JWT í•„í„° ìˆ˜ì •**: ì¸ì¦ ë¡œì§ ì™„ì„±
3. **ê¸´ê¸‰ ë³´ì•ˆ íŒ¨ì¹˜**: ìš´ì˜ í™˜ê²½ ë³´ì•ˆ ì„¤ì • ì ìš©

#### 1ì£¼ì¼ ë‚´ ì™„ë£Œ

1. **ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”**: ì¸ë±ìŠ¤ ìƒì„± ë° ì¿¼ë¦¬ íŠœë‹
2. **API í‘œì¤€í™”**: React Native í˜¸í™˜ ì‘ë‹µ í˜•ì‹ ì ìš©
3. **Redis ë³´ì•ˆ ì„¤ì •**: ë¹„ë°€ë²ˆí˜¸ ë° SSL ì ìš©

#### 2ì£¼ì¼ ë‚´ ì™„ë£Œ

1. **ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ**: Micrometer + Prometheus êµ¬ì¶•
2. **í…ŒìŠ¤íŠ¸ ìë™í™”**: TestContainers ê¸°ë°˜ í†µí•© í…ŒìŠ¤íŠ¸
3. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**: ë¶€í•˜ í…ŒìŠ¤íŠ¸ ë° ë³‘ëª© ì§€ì  í•´ê²°

#### 1ê°œì›” ë‚´ ì™„ë£Œ

1. **CI/CD íŒŒì´í”„ë¼ì¸**: ìë™ ë¹Œë“œ/í…ŒìŠ¤íŠ¸/ë°°í¬ êµ¬ì¶•
2. **React Native ìµœì í™”**: ëª¨ë°”ì¼ ì•± ì—°ë™ ì™„ì„±
3. **ìš´ì˜ ë¬¸ì„œí™”**: ì¥ì•  ëŒ€ì‘ ë§¤ë‰´ì–¼ ë° ìš´ì˜ ê°€ì´ë“œ

### ğŸ¯ ì„±ê³µ ì§€í‘œ (KPI)

| ì§€í‘œ            | í˜„ì¬            | ëª©í‘œ          | ì¸¡ì • ë°©ë²•      |
|---------------|---------------|-------------|------------|
| **ë³´ì•ˆ ì·¨ì•½ì **    | 4ê°œ (Critical) | 0ê°œ          | ì •ì  ë¶„ì„ ë„êµ¬   |
| **API ì‘ë‹µ ì‹œê°„** | ë¯¸ì¸¡ì •           | í‰ê·  200ms ì´í•˜ | APM ë„êµ¬     |
| **ìºì‹œ íˆíŠ¸ìœ¨**    | ë¯¸ì¸¡ì •           | 80% ì´ìƒ      | Redis ë©”íŠ¸ë¦­  |
| **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**  | ë¯¸ì¸¡ì •           | 80% ì´ìƒ      | JaCoCo ë¦¬í¬íŠ¸ |
| **ë°°í¬ ì„±ê³µë¥ **    | ìˆ˜ë™ ë°°í¬         | 95% ì´ìƒ      | CI/CD ë©”íŠ¸ë¦­  |
| **ì‹œìŠ¤í…œ ê°€ìš©ì„±**   | ë¯¸ì¸¡ì •           | 99.9% ì´ìƒ    | ëª¨ë‹ˆí„°ë§ ë„êµ¬    |

### ğŸ’¡ ì¥ê¸° ë¹„ì „

ì†Œë‹´ í”„ë¡œì íŠ¸ëŠ” ë‹¨ìˆœí•œ ê·¼íƒœ ê´€ë¦¬ë¥¼ ë„˜ì–´ì„œ **ì¢…í•©ì ì¸ ì•„ë¥´ë°”ì´íŠ¸ ìƒíƒœê³„ í”Œë«í¼**ìœ¼ë¡œ ë°œì „í•  ìˆ˜ ìˆëŠ” ê²¬ê³ í•œ ê¸°ìˆ ì  ê¸°ë°˜ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.

**ê¸°ìˆ ì  í™•ì¥ ê°€ëŠ¥ì„±**:

- ğŸ”® AI ê¸°ë°˜ ê¸‰ì—¬ ì˜ˆì¸¡ ë° ìµœì í™”
- ğŸ”® ë¸”ë¡ì²´ì¸ ê¸°ë°˜ ê¸‰ì—¬ ì§€ê¸‰ ì‹œìŠ¤í…œ
- ğŸ”® IoT ì—°ë™ ìë™ ì¶œí‡´ê·¼ ì‹œìŠ¤í…œ
- ğŸ”® ë¹…ë°ì´í„° ë¶„ì„ ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ ì œê³µ

**ë¹„ì¦ˆë‹ˆìŠ¤ í™•ì¥ ê°€ëŠ¥ì„±**:

- ğŸ“ˆ ì„¸ë¬´ì‚¬/ë…¸ë¬´ì‚¬ í”Œë«í¼ ì—°ê³„ í™•ëŒ€
- ğŸ“ˆ B2B SaaS ëª¨ë¸ë¡œ í™•ì¥
- ğŸ“ˆ ê¸€ë¡œë²Œ ì‹œì¥ ì§„ì¶œ (ë‹¤êµ­ì–´/ë‹¤í†µí™” ì§€ì›)
- ğŸ“ˆ í•€í…Œí¬ ì„œë¹„ìŠ¤ ì—°ê³„ (ê¸‰ì—¬ ì„ ì§€ê¸‰ ë“±)

ë³¸ ë¶„ì„ ë³´ê³ ì„œì—ì„œ ì œì‹œí•œ ê°œì„  ê³„íšì„ ì²´ê³„ì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´, ì†Œë‹´ í”„ë¡œì íŠ¸ëŠ” **ì•ˆì „í•˜ê³  í™•ì¥ ê°€ëŠ¥í•˜ë©° ì„±ëŠ¥ì´ ìš°ìˆ˜í•œ í”Œë«í¼**ìœ¼ë¡œ ì„±ì¥í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ ë° ë¦¬ì†ŒìŠ¤

### ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- [í”„ë¡œì íŠ¸ ê¸°íšì„œ](../project-management/project_planning_Document.md)
- [ê°œë°œ ê°€ì´ë“œë¼ì¸](../guidelines/development_guidelines.md)
- [ì²´í¬ë¦¬ìŠ¤íŠ¸](../project-management/Check_List.md)

### ğŸ“– ê¸°ìˆ  ì°¸ì¡°

- [Spring Boot Security ê°€ì´ë“œ](https://spring.io/guides/gs/securing-web/)
- [Redis ì„±ëŠ¥ ìµœì í™”](https://redis.io/docs/manual/optimization/)
- [React Native ì„±ëŠ¥ ê°€ì´ë“œ](https://reactnative.dev/docs/performance)
- [AWS ë°°í¬ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤](https://aws.amazon.com/architecture/well-architected/)

### ğŸ› ï¸ ë„êµ¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬

- [TestContainers](https://www.testcontainers.org/)
- [Micrometer](https://micrometer.io/)
- [JaCoCo](https://www.jacoco.org/)
- [Checkstyle](https://checkstyle.sourceforge.io/)

---

**ğŸ“… ë¬¸ì„œ ë³€ê²½ ì´ë ¥**

| ë‚ ì§œ         | ë²„ì „  | ë³€ê²½ ë‚´ìš©            | ì‘ì„±ì |
|------------|-----|------------------|-----|
| 2024-12-27 | 2.0 | ì„œì‹ ì •ë¦¬ ë° ë‚´ìš© ëŒ€í­ ë³´ê°• | ê°œë°œíŒ€ |
| 2024-12-26 | 1.0 | ì´ˆê¸° ë¶„ì„ ë³´ê³ ì„œ ì‘ì„±     | ê°œë°œíŒ€ |
